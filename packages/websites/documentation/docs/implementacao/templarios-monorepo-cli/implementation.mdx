---
id: implementation
title: templarios-monorepo-cli · Implementação
sidebar_label: Implementação
description: MEDGRUPO Component Library
keywords:
  - Templários UI Framework
  - Alex Bleggi
image: /static/other/img/templarios.svg
slug: /implementacao/templarios-monorepo-cli/implementation
toc_max_heading_level: 4
hide_title: true
---

import useBaseUrl from '@docusaurus/useBaseUrl';

# Implementação

## Passo 1

### Objetivo

Utilizar a CLI invocando:

```bash showLineNumbers
npx templarios
```

ou

```json title="package.json" showLineNumbers
{
  "scripts": {
    "start": "templarios"
  }
}
```

### commander

- [commander](https://www.npmjs.com/package/commander)

```bash showLineNumbers
npm i commander
```

#### Implementação

```ts title="src/utilities/enums/theme.ts" showLineNumbers
export enum ThemeColors {
  lightest = '#f3666b',
  lighter = '#f04148',
  light = '#ef353c',
  base = '#ed1c24',
  dark = '#dd1219',
  darker = '#d11118',
  darkest = '#ac0e14',
}
```

```ts title="src/index.ts" showLineNumbers
import chalk from 'chalk';
import { Command } from 'commander';
import { ThemeColors } from './utilities/enums/theme';
const program = new Command();

program
  .name('templarios')
  .description(
    ` ${chalk.hex(ThemeColors.base).bold('Templários Monorepo CLI')}`,
  );

program.showHelpAfterError();
program.parse();
```

#### Configuração

**Para resolver a seguinte issue:**

<img src={useBaseUrl('img/implementacao/monorepo-cli-01.jpg')} />

```json {4} title="tsconfig.json" showLineNumbers
{
  "compilerOptions": {
    "target": "es2016",
    "module": "esnext",
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "strict": true,
    "skipLibCheck": true
  }
}
```

**Para resolver a seguinte issue:**

<img src={useBaseUrl('img/implementacao/monorepo-cli-02.jpg')} />

- [Resource](https://rollupjs.org/troubleshooting/#warning-treating-module-as-external-dependency)

```js {9} title="rollup.config.js" showLineNumbers
import typescript from '@rollup/plugin-typescript';

export default {
  input: 'src/index.ts',
  output: {
    file: 'dist/index.js',
  },
  plugins: [typescript({ tsconfig: './tsconfig.json' })],
  external: ['chalk', 'commander'],
};
```

**Para resolver a seguinte issue:**

<img src={useBaseUrl('img/implementacao/monorepo-cli-03.jpg')} />

```json {9} title="tsconfig.json" showLineNumbers
{
  "compilerOptions": {
    "target": "es2016",
    "module": "esnext",
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "strict": true,
    "skipLibCheck": true,
    "moduleResolution": "node"
  }
}
```

#### Utilização

```js title="bin/index.js" showLineNumbers
#!/usr/bin/env node

import '../dist/index.js';
```

Para testarmos a primeira parte da implementação:

```bash showLineNumbers
npx templarios --help
```

<img src={useBaseUrl('img/implementacao/monorepo-cli-04.jpg')} />

## Passo 02

### Objetivo

Utilizar a CLI invocando:

```bash showLineNumbers
npx templarios --start
npx templarios -s
```

ou

```json title="package.json" showLineNumbers
{
  "scripts": {
    "start": "templarios --start",
    "start": "templarios -s"
  }
}
```

e ser questionado com:

Escolha uma das opções:

- desenvolvimento
- produção
- destribuição
- publish
- lint

### commander

```ts {4,10-15} title="src/index.ts" showLineNumbers
import chalk from 'chalk';
import { Command } from 'commander';
import { ThemeColors } from './utilities/enums/theme';
import { start } from './utilities/functions/start';
const program = new Command();

program
  .name('templarios')
  .description(`${chalk.hex(ThemeColors.base).bold('Templários Monorepo CLI')}`)
  .option('-s, --start', 'executa o Templários Monorepo CLI')
  .action((option: any) => {
    if (option.start) {
      start();
    }
  });

program.showHelpAfterError();
program.parse();
```
