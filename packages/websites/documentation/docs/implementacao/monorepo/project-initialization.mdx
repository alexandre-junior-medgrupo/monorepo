---
id: project-initialization
title: monorepo · Inicialização do Projeto
sidebar_label: Inicialização do Projeto
description: MEDGRUPO Component Library
keywords:
  - Templários UI Framework
  - Alex Bleggi
image: /static/other/img/templarios.svg
slug: /implementacao/monorepo/project-initialization
toc_max_heading_level: 4
hide_title: true
---

# Inicialização do Projeto

## Lerna

- [Lerna](https://lerna.js.org/)

### Inicialização

```bash showLineNumbers
npx lerna init
```

```bash showLineNumbers
npx lerna add-caching
```

### Visual Studio Code

#### Extension Recommendations

- [Nx Console](https://marketplace.visualstudio.com/items?itemName=nrwl.angular-console)

```json title=".vscode/extensions.json" showLineNumbers
{
  "recommendations": ["nrwl.angular-console"]
}
```

## Commit - Formatting Rules

### Prettier

- [Prettier](https://prettier.io/)

```bash showLineNumbers
npm i prettier -D
```

#### Configuração

```json title=".prettierrc" showLineNumbers
{
  "singleQuote": true
}
```

```json title=".vscode/settings.json" showLineNumbers
{
  "editor.defaultFormatter": "esbenp.prettier-vscode"
}
```

```json {7} title="package.json" showLineNumbers
{
  "name": "root",
  "description": "Templários monorepo.",
  "private": true,
  "workspaces": ["packages/*"],
  "scripts": {
    "lint:prettier": "sh .scripts/bash/lint.sh"
  },
  "devDependencies": {
    "lerna": "^8.0.2",
    "prettier": "^3.1.1"
  }
}
```

```txt title=".gitignore" showLineNumbers
.prettiercache
```

#### Bash Script

- [Bash utilities](#)

```sh title=".scripts/bash/lint.sh" showLineNumbers
#!/usr/bin/env bash

source .scripts/bash/utilities/constants.sh
source .scripts/bash/utilities/functions.sh

function lint {
  local TEXT="Running Prettier"
  local TASK="npm run lint"
  local RUNS_ON="root"
  local FILE=".scripts/bash/lint.sh"
  local COMMAND="npx prettier . --write --cache --cache-location .prettiercache"

  heading "${TEXT}"

  body "${TASK}" "${RUNS_ON}" "${FILE}" "${COMMAND}"

  # runs command
  npx prettier . --write --cache --cache-location .prettiercache

  new_line

  footer "${TEXT}"
}

header "Linting Formatting Rules"
lint
```

#### Visual Studio Code

##### Extension Recommendations

- [Prettier - Code formatter](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)

```json title=".vscode/extensions.json" showLineNumbers
{
  "recommendations": ["nrwl.angular-console", "esbenp.prettier-vscode"]
}
```

## Commit Linting

### Commitlint

- [commitlint](https://commitlint.js.org)
- [@commitlint/cli](https://www.npmjs.com/package/@commitlint/cli)
- [@commitlint/config-conventional](https://www.npmjs.com/package/@commitlint/config-conventional)

```bash title=".vscode/extensions.json" showLineNumbers
npm i @commitlint/config-conventional @commitlint/cli -D
```

#### Configuração

```js title=".commitlintrc.js" showLineNumbers
module.exports = {
  extends: ['@commitlint/config-conventional'],
};
```

### Husky

- [husky](https://typicode.github.io/husky/)

```bash showLineNumbers
npm i husky -D
```

#### Configuração

```bash showLineNumbers
npx husky install
```

```bash showLineNumbers
npx husky add .husky/commit-msg 'npx --no -- commitlint --edit $1'
```

### Commitizen

- [commitizen](https://commitizen-tools.github.io/commitizen/)
- [cz-conventional-changelog](https://www.npmjs.com/package/cz-conventional-changelog)

```bash showLineNumbers
npm i commitizen -D
```

#### Configuração

```bash showLineNumbers
npx commitizen init cz-conventional-changelog --save-dev --save-exact
```

Remover do `package.json`as seguintes linhas:

```diff title="package.json" showLineNumbers
{
- "config": {
-   "commitizen": {
-     "path": "cz-conventional-changelog"
-   }
- }
}
```

```json title=".czrc" showLineNumbers
{
  "path": "cz-conventional-changelog"
}
```

```json {7} title="package.json" showLineNumbers
{
  "name": "root",
  "description": "Templários monorepo.",
  "private": true,
  "workspaces": ["packages/*"],
  "scripts": {
    "commit": "cz",
    "lint": "sh .scripts/bash/lint.sh"
  },
  "devDependencies": {
    "@commitlint/cli": "^18.4.4",
    "@commitlint/config-conventional": "^18.4.4",
    "commitizen": "^4.3.0",
    "cz-conventional-changelog": "^3.3.0",
    "husky": "^8.0.3",
    "lerna": "^8.0.2",
    "prettier": "^3.1.1"
  }
}
```

## Visual Studio Code

### Format on Save

```json {3-6} title=".vscode/settings.json" showLineNumbers
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll": true
  },
  "editor.formatOnSave": true
}
```

### File/Folder Association

Supondo que você tem a extensão [Material Icon Them](https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme) instalada:

```json {7-28} title=".vscode/settings.json" showLineNumbers
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll": true
  },
  "editor.formatOnSave": true,
  "material-icon-theme.files.associations": {
    "settings.json": "vscode",
    "extensions.json": "vscode",
    ".prettiercache": "prettier",
    ".czrc": "commitlint"
  },
  "material-icon-theme.folders.associations": {
    "workflows": "github",
    ".scripts": "scripts",
    ".husky/_": "husky",
    ".scripts/bash": "scripts",
    "packages/monorepo-cli": "tools",
    "packages/elementor": "php",
    "packages/stencil": "stencil",
    "packages/websites": "views",
    "stencil/component-wrapers": "stencil",
    "component-wrapers/angular-library": "angular",
    "component-wrapers/react-library": "react-components",
    "component-wrapers/vue-library": "vue",
    "websites/documentation": "views",
    "websites/processos": "views"
  }
}
```
